# Сущности первого класса

Важным понятием является [Сущность первого класса](https://en.wikipedia.org/wiki/First-class_citizen).
Для краткости, далее по тексту, используется формулировка "___ 1К". Например, "функции 1К"
следует читать как "функции первого класса".

Данное понятие было введено в [SICP](https://mitpress.mit.edu/sicp/full-text/book/book-Z-H-12.html#call_footnote_Temp_121)
и достаточно известно. Однако, есть вероятность, что вы сталкиваетесь с ним
впервые и эту тему стоить обсудить.

Цитируя первоисточник:

> В целом, языки программирования накладывают ограничения на способы манипуляции синтаксическими единицами.
> Об элементах, имеющих минимальное число ограничений, говорят, что они получают статус **первого класса**.
> Некоторые из этих "привилегий" таковы:
>
> * Могут быть именованы через переменные
> * Могут быть переданы как аргументы функций
> * Могут быть возвращены как результаты функций
> * Могут входить в состав структур данных

Данный список, вероятно, не требует комментариев. Сущности первого
класса соответствуют **значениям** и, соответственно, могут использоваться
везде, где ожидаются **выражения**.

Фраза "В языке N функции являются значениями", фактически, эквивалентна
фразе "В языке N первоклассные функции", однако последняя является
более однозначной.

PHP, Ruby, Java (до версии 8) и многие другие языки страдают от отсутствия первоклассных функций.
В Java и Perl функции 1К были добавлены лишь в последних версиях.

Функции 1К позволяют избавиться от множества паттернов ООП, начиная со
[Стратегии](https://en.wikipedia.org/wiki/Strategy_pattern) и далее по списку.

Это ряд можно продолжать. Отсутствие первоклассных модулей в PHP вызывает
проблемы с импортами и пространствами имён. Шаблонизаторы создаются из-за
отсутствия (или дефектов) композиции функций. Эмиттеры не композируются
из-за того, что событие в них не является первоклассным элементом. [Зависимые
типы](https://en.wikipedia.org/wiki/Dependent_type) обещают решить проблемы
статической типизации, где типы, классически, не являются сущностями 1К.

На данном этапе, кроме определения термина, достаточно понимать,
что отнесение той или иной единицы языка к первому классу, обычно,
даёт архитектурные преимущества и позиционируется как таковое.

