# Скоупинг и Декларации

Область видимости переменной в JS зависит от типа её декларации.
Собственно, добавление новых правил видимости переменной и послужило
одной из основных причин добавления новых деклараций (`let` и `const` к
существующему ранее `var`).

---

Стандартизация и адаптация ES модулей ещё не завершена, поэтому
мы пока исключим их из рассмотрения. CommonJS и т.п. эмуляции модулей
базируются на функциях и, соотв. их правила видимости описываются правилами
видимости для функций.

---

## Правила

1\. Область видимости переменной, объявленной с помощью `var`, ограничивается
функциями:

```js
var x = "x" //
console.log(x)  // "basic"
```

```js
function foo() {
  var x = "x" // замкнута в функции
}

console.log(x) // ReferenceError
```

```js
{
  var x = "x" // не замкнута в блоке
}

console.log(x) // "x"
```

2\. Область видимости переменной, объявленной с помощью `let` или `const`,
ограничивается функциями и блоками:

```js
let x = "basic" //
console.log(x)  // "x"
```

```js
function foo() {
  let x = "x" // замкнута в функции
}

console.log(x) // ReferenceError
```

```js
{
  let x = "x" // замкнута в блоке
}

console.log(x) // ReferenceError
```
